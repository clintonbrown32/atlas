<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Brandon+Grotesque:wght@400;700&display=swap">
</head>
<body>
    <header>
        <!-- Your header content -->
    </header>

    <section class="intro">
        <!-- Your introduction section content -->
    </section>

    <section class="services">
        <!-- Your services section content -->
    </section>

    <section class="rss-feed">
        <h2 class="rss-feed-heading">Industry News</h2>
        <div class="rss-feed-container">
            <!-- The RSS feed content will be injected here -->
        </div>
        <!-- Arrow buttons for horizontal scrolling -->
        <div class="scroll-arrow scroll-left">&#8249;</div>
        <div class="scroll-arrow scroll-right">&#8250;</div>
    </section>

    <form action="https://script.google.com/macros/s/AKfycbyKWrQI3Xiq2ti48XYXxCvoAwd2Ir8YCDu1fP-ZtP-Q/dev" method="post">
        <center>
            <h2 class="contact">Contact Us</h2>
        </center>
        <div class="form-group">
            <input type="text" name="name" placeholder="Name" class="center-input">
        </div>
        <div class="form-group">
            <input type="email" name="email" placeholder="Email" class="center-input">
        </div>
        <div class="form-group">
            <textarea name="message" placeholder="Message" class="full-width"></textarea>
        </div>
        <div class="form-group">
            <input type="submit" value="Submit" class="full-width">
        </div>
    </form>

    <footer>
        <!-- Your footer content -->
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // JavaScript for fetching and populating the feed items
            const feedContainer = document.querySelector('.rss-feed-container');

            fetch('https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Fwww.forbes.com%2Freal-estate%2Ffeed%2F')
                .then(response => response.json())
                .then(data => {
                    const feedItems = data.items;

                    // Generate HTML for each feed item
                    const feedContent = feedItems.map(item => `
                        <div class="feed-item">
                            <img src="${item.thumbnail}" alt="Thumbnail">
                            <div class="feed-item-content">
                                <h3>${item.title}</h3>
                                <a href="${item.link}" target="_blank">Read more</a>
                            </div>
                        </div>
                    `).join('');

                    // Inject the feed content into the HTML
                    feedContainer.innerHTML = feedContent;

                    // JavaScript for horizontal scrolling with arrow buttons
                    const scrollContainer = document.querySelector('.rss-feed-container');
                    const scrollLeftButton = document.querySelector('.scroll-left');
                    const scrollRightButton = document.querySelector('.scroll-right');

                    const feedItemWidth = scrollContainer.querySelector('.feed-item').offsetWidth;
                    const feedItemMargin = 20; // Adjust this value according to your CSS margin

                    scrollLeftButton.addEventListener('click', () => {
                        scrollContainer.scrollBy({ left: -(feedItemWidth + feedItemMargin), behavior: 'smooth' });
                    });

                    scrollRightButton.addEventListener('click', () => {
                        scrollContainer.scrollBy({ left: feedItemWidth + feedItemMargin, behavior: 'smooth' });
                    });
                })
                .catch(error => console.error(error));

            // Add an event listener to the form submission
            document.getElementById('contactForm').addEventListener('submit', function (event) {
                event.preventDefault(); // Prevent the default form submission

                // Perform the form submission using JavaScript Fetch API or XMLHttpRequest
                fetch(this.action, {
                    method: 'POST',
                    body: new FormData(this),
                })
                .then(function (response) {
                    if (response.ok) {
                        // Show the pop-up message
                        showPopupMessage('Form submitted successfully!');
                    } else {
                        // Handle submission error
                        showPopupMessage('An error occurred. Please try again later.');
                    }
                })
                .catch(function (error) {
                    // Handle network or fetch API errors
                    showPopupMessage('An error occurred. Please try again later.');
                });
            });

            // Function to show the pop-up message
            function showPopupMessage(message) {
                var popup = document.createElement('div');
                popup.innerHTML = '<p>' + message + '</p>';
                popup.style.position = 'fixed';
                popup.style.top = '50%';
                popup.style.left = '50%';
                popup.style.transform = 'translate(-50%, -50%)';
                popup.style.padding = '10px';
                popup.style.background = '#fff';
                popup.style.border = '1px solid #ccc';
                popup.style.boxShadow = '0 0 10px rgba(0, 0, 0, 0.2)';
                popup.style.zIndex = '9999';

                document.body.appendChild(popup);

                // Automatically remove the popup after a few seconds
                setTimeout(function () {
                    document.body.removeChild(popup);
                }, 3000); // 3000 milliseconds = 3 seconds (you can adjust the time if needed)
            }
        });
    </script>
</body>
</html>
